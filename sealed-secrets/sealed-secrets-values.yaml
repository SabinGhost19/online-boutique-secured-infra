# =============================================================================
# sealed-secrets-values.yaml
# Configurație pentru Sealed Secrets Controller
# =============================================================================

# Full name override pentru a avea un nume consistent
fullnameOverride: sealed-secrets-controller

# Namespace (de obicei kube-system pentru acces global)
# namespace: kube-system

# Resources
resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 100m
    memory: 128Mi

# Security Context
securityContext:
  runAsNonRoot: true
  runAsUser: 1001
  fsGroup: 65534

# Container Security Context
containerSecurityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

# Service Account
serviceAccount:
  create: true
  name: sealed-secrets-controller

# RBAC
rbac:
  create: true
  # Creează ClusterRole pentru acces la toate namespace-urile
  clusterRole: true

# Metrics pentru Prometheus
metrics:
  serviceMonitor:
    enabled: false  # Activează dacă ai Prometheus Operator
  dashboards:
    create: false

# Număr de replici (1 este suficient pentru controller)
replicaCount: 1

# Update strategy
updateStrategy:
  type: RollingUpdate

# Pod Disruption Budget
podDisruptionBudget:
  minAvailable: 1

# Logging
args:
  # Log level: info, debug, error
  - "--log-level=info"
  # Refresh interval pentru key rotation
  - "--key-refresh-interval=720h"  # 30 zile
  # Namespace scope (gol = toate namespace-urile)
  # - "--namespace=develop"

# Tolerations (dacă vrei să ruleze pe noduri specifice)
tolerations: []

# Node selector
nodeSelector: {}

# Affinity
affinity: {}

# Priority class
priorityClassName: ""
